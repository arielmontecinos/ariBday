<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Bienvenida al proyecto ariBday</title>
    <style>
        /* Reset y estilos base */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }
    
        body {
            background: #0c1421;
            color: #f4f4f4;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh; /* Usar min-height en lugar de height para evitar problemas en móviles */
            overflow: hidden;
            padding: 10px;
        }
    
        .hidden { 
            display: none; 
        }
    
        /* Header */
        .header {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            text-align: center;
        }
    
        .header img {
            width: 100px;
            max-width: 25%;
            margin-right: 10px;
            animation: fadeIn 2s ease-out;
        }
    
        .header span {
            font-size: 1.2rem;
            font-weight: bold;
            color: #ff9800;
            animation: fadeIn 2.5s ease-out;
        }
    
        /* Contenedores de texto */
        .text-container {
            border: 10px solid transparent;
            padding: 20px;
            width: 100%;
            max-width: 500px; /* Limita el ancho máximo en escritorio */
            text-align: center;
            margin-top: 20px;
            font-size: 1.8rem;
            font-weight: bold;
            line-height: 1.4;
            animation: heartbeat 2.5s infinite;
            overflow: hidden;
            word-wrap: break-word;
            white-space: normal;
        }
    
        .text-container span {
            color: #ff9800;
            font-weight: bold;
            display: inline-block;
        }
    
        #typedText {
            border: 10px solid transparent;
            padding: 20px;
            width: 100%;
            max-width: 900px; /* Limita el ancho máximo en escritorio */
            text-align: center;
            margin-top: 20px;
            font-size: 1.8rem;
            font-weight: bold;
            line-height: 1.4;
            overflow: hidden;
            word-wrap: break-word;
            white-space: normal;
        }
    
        /* Clase para resaltar texto */
        .resaltar {
            color: #ff9800;
            font-weight: bold;
            animation: pulsar 1.5s infinite;
        }
    
        /* Animaciones */
        @keyframes pulsar {
            0% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(1.1);
                opacity: 0.7;
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }
    
        @keyframes heartbeat {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
    
        @keyframes pulsarColor {
            0% {
                background-color: #1445ad;
            }
            50% {
                background-color: #226dce;
            }
            100% {
                background-color: #0b3f94;
            }
        }
    
        /* Botón */
        .btn {
            margin-top: 30px;
            padding: 12px 30px;
            background-color: #4285F4;
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            animation: pulsarColor 2s infinite ease-in-out;
            box-shadow: 2px 4px 10px rgba(0, 0, 0, 0.2);
        }
    
        .btn:hover {
            background-color: #072f70;
        }
    
        /* Imagen de celebración */
        .cumple {
            width: 300px;
            max-width: 80%;
            height: auto;
            display: block;
            margin: 20px auto;
        }
    
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to   { opacity: 1; transform: translateY(0); }
        }
    
        @keyframes soft-blink {
            0%, 100% { opacity: 1; }
            50%      { opacity: 0.5; }
        }
    
        #pagina2 {
            animation: soft-border 4s infinite ease-in-out;
        }
    
        /* Canvas de fuegos artificiales */
        canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }
    
        /* Contenedor de gráficos en el fondo */
        .graphics {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            overflow: hidden;
            pointer-events: none;
            z-index: -1;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            align-items: center;
            padding: 5%;
        }
    
        /* Estilo base de los símbolos */
        .symbol {
            position: absolute;
            font-size: 4rem;
            font-weight: bold;
            opacity: 0.4;
        }
    
        /* Distribución aleatoria (requiere JavaScript para random()) */
        .symbol:nth-child(odd) {
            left: calc(10% + 80% * random());
            top: calc(10% + 80% * random());
        }
    
        .symbol:nth-child(even) {
            right: calc(10% + 80% * random());
            bottom: calc(10% + 80% * random());
        }
    
        /* Animación de pulso */
        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(1.3);
                opacity: 0.5;
            }
        }
    
        .floating {
            animation: pulse 3s infinite ease-in-out;
        }
    
        /* Página 3 animada */
        #pagina3 {
            padding: 20px;
            margin: 20px auto;
            max-width: 900px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
    
        .pagina3texto {
            font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
            font-size: 1.2em;
            line-height: 1.5;
            color: #f1da55;
            margin-bottom: 20px;
        }
    
        .resaltar:hover {
            color: #e65100;
        }
    
        #pagina3 iframe {
            width: 100%;
            max-width: 755px;
            height: auto;
            aspect-ratio: 16 / 9;
            border: none;
            margin: 20px 0;
            border-radius: 4px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }
    
        /* Lienzo de fondo para las estrellas */
        canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }
    
        /* ==========================
           Media Queries para móviles
           ========================== */
           @media (max-width: 600px) {
    #typedText {
        width: 100%; /* Se adapta al tamaño de la pantalla */
        font-size: 1rem; /* Reduce un poco el tamaño del texto */
        padding: 15px; /* Ajusta el padding */
    }

    .cumple {
        width: 250px; /* Reduce el tamaño de la imagen */
        height: auto; /* Mantiene la proporción */
    }
}
          



    </style>
    

</head>
<body>
    <audio id="birthdaySong" loop>
        <source src="https://dl.dropbox.com/s/e93f5kxsmtankf3/Best%20Happy%20Birthday%20To%20You%20_%20Happy%20Birthday%20Songs%20Remix%202020%28M4A_128K%29_1.m4a?dl=0" type="audio/mp4">
        Tu navegador no soporta audio.
    </audio>

    <div id="pagina1">
        <div class="graphics">
            <!-- Geometric shapes -->
            <span class="symbol floating" style="color: #ff5733; left: 5%; top: 10%;">▲</span> <!-- Triangle -->
            <span class="symbol floating" style="color: #5733ff; left: 15%; bottom: 30%;">●</span> <!-- Circle -->
            <span class="symbol floating" style="color: #33ff57; right: 10%; top: 20%;">■</span> <!-- Square -->
            <span class="symbol floating" style="color: #f4d03f; right: 20%; bottom: 40%;">◆</span> <!-- Diamond -->
    
            <!-- Math symbols -->
            <span class="symbol" style="color: #f94c66; left: 25%; top: 5%;">&#43;</span>
            <span class="symbol" style="color: #5dade2; right: 30%; top: 15%;">&#8722;</span>
            <span class="symbol" style="color: #58d68d; left: 35%; bottom: 20%;">&#215;</span>
            <span class="symbol" style="color: #f4d03f; right: 40%; bottom: 25%;">&#247;</span>
            <span class="symbol" style="color: #c39bd3; left: 45%; top: 8%;">&#61;</span>
            <span class="symbol" style="color: #d98880; right: 50%; top: 12%;">&#60;</span>
            <span class="symbol" style="color: #5d6d7e; left: 55%; bottom: 15%;">&#62;</span>
            <span class="symbol" style="color: #85c1e9; right: 60%; bottom: 35%;">&#177;</span>
        </div>
        <div class="header">
            <img src="Imagenes/20años.png" alt="M. motivo de mis pasos" class="logo">
            <span class="resaltar">¡La aventura inicia!</span>
        </div>
        <div class="text-container">
            ¡Hola, <span>Micaela</span>! Qué alegría tenerte aquí. Echa un vistazo a todo lo que he preparado para ti.
            
        </div>
        <button class="btn" onclick="mostrarSegundaPagina()">Click me</button>
        
    </div>
    
    <div id="pagina2" class="hidden">
        <canvas id="fireworksCanvas"></canvas>
        <img class="cumple" src="Imagenes/Cumple.png" alt="Cumple">
        <h2 id="typedText"></h2>
        <button class="btn" onclick="mostrarTerceraPagina()">Continuar</button>
    </div>

    <div id="pagina3" class="hidden">
        <p class="pagina3texto">
            Vi que esta era una de tus canciones favoritas y <span class="resaltar">significa mucho para mí</span>. Me dije que algún día la cantaría, pero parecía estar muy lejos. <span class="resaltar">Tú me importas, y supe que podía hacerlo.</span> Me gusta la canción y quiero compartir ese momento contigo
            <p><iframe 
                src="https://www.youtube.com/embed/fzvrIAto7jM"
                frameborder="0" 
                allow="autoplay; encrypted-media" 
                allowfullscreen>
                </iframe>
            </p>
            <button class="btn" onclick="Volver()">Volver</button>
        </p>
        <canvas id="fireworksCanvas"></canvas>
    </div>

    <script>
        // Inicializamos variables globales una sola vez
        const canvas = document.getElementById("fireworksCanvas");
        const ctx = canvas.getContext("2d");
        let particles = [];
    
        // Ajusta el tamaño del canvas al tamaño de la ventana
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    
        // Función para crear partículas (pueden ser fuegos artificiales o estrellas)
        function createParticle(x, y, type = 'firework') {
            const speed = type === 'firework' ? 4 : (Math.random() * 2 + 2);
            const numParticles = type === 'firework' ? 30 : 1;
    
            for (let i = 0; i < numParticles; i++) {
                particles.push({
                    x,
                    y,
                    size: Math.random() * 3 + 1,
                    speedX: (Math.random() - 0.5) * speed,
                    speedY: type === 'firework' ? (Math.random() - 0.5) * speed : speed,
                    color: `hsl(${Math.random() * 360}, 100%, 60%)`,
                    life: type === 'firework' ? 50 : 100
                });
            }
        }
    
        // Actualiza y dibuja las partículas
        function updateParticles() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            for (let i = 0; i < particles.length; i++) {
                const p = particles[i];
                p.x += p.speedX;
                p.y += p.speedY;
                p.life--;
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                ctx.fillStyle = p.color;
                ctx.fill();
                if (p.life <= 0) {
                    particles.splice(i, 1);
                    i--;
                }
            }
        }
    
        // Bucle principal de animación
        function loop() {
            updateParticles();
            requestAnimationFrame(loop);
        }
    
        // Dispara partículas cuando se llama
        function iniciarFuegosArtificiales() {
            setInterval(() => {
                const x = Math.random() * canvas.width;
                const y = Math.random() * (canvas.height / 2);
                createParticle(x, y, 'firework');
            }, 500);
        }
    
        // Genera estrellas cayendo
        function iniciarEstrellasCayendo() {
            setInterval(() => {
                const x = Math.random() * canvas.width;
                createParticle(x, 0, 'star');
            }, 200);
        }
    
        // Funciones para mostrar las diferentes páginas
        function mostrarSegundaPagina() {
            document.getElementById('pagina1').classList.add('hidden');
            document.getElementById('pagina2').classList.remove('hidden');
            document.getElementById('typedText').textContent = '';
            reproducirMusica();
            escribirTexto();
            iniciarFuegosArtificiales();
        }
    
        function mostrarTerceraPagina() {
        document.getElementById('pagina2').classList.add('hidden');
        document.getElementById('pagina3').classList.remove('hidden');
        detenerMusica(); // Detiene la música al continuar
        if (!canvas.dataset.fireworksStarted) {
            iniciarEstrellasCayendo();
            canvas.dataset.fireworksStarted = true;
        }
        }

        function detenerMusica() {
            let audio = document.getElementById("birthdaySong");
            audio.pause();
            audio.currentTime = 0; // Reinicia la canción en caso de que se quiera volver a reproducir después
        }
        
        function Volver() {
            window.location.reload();
        }
    
        function reproducirMusica() {
            let audio = document.getElementById("birthdaySong");
            audio.play().catch(error => console.log("Error al reproducir música: ", error));
        }
    
        function escribirTexto() {
            const text = '¡Feliz cumpleaños, Micaela! 🎉🥰 Hoy es un día súper especial porque celebramos a una persona increíble: ¡tú! Hice este detalle virtual con mucho cariño y espero que te saque una sonrisa. Desde que te vi, supe que eras mucho más. Ariel te ha admirado desde entonces. ✨';
            const typedTextElement = document.getElementById('typedText');
            typedTextElement.textContent = "";
    
            let index = 0;
            function typeWriter() {
                if (index < text.length) {
                    typedTextElement.textContent += text.charAt(index);
                    index++;
                    setTimeout(typeWriter, 75);
                } else {
                    const contenidoFinal = typedTextElement.textContent;
                    const nuevoContenido = contenidoFinal
                        .replace('¡tú!', '<span class="resaltar">¡tú!</span>')
                        .replace('¡Feliz cumpleaños, Micaela!', '<span class="resaltar">¡Feliz cumpleaños, Micaela!</span>')
                        .replace('Ariel te ha admirado desde entonces.', '<span class="resaltar">Ariel te ha admirado desde entonces.</span>');
                    typedTextElement.innerHTML = nuevoContenido;
                }
            }
            typeWriter();
        }
    
        // Comienza el bucle de animación
        loop();
    </script>
    
    
</body>
</html>
